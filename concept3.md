# 配列とfor文の組み合わせ

## 配列とfor文

レッスン7でも一部のサンプルコードなどに配列やオブジェクトと組み合わせたfor文は少しだけ出てきました。
ここではまず**「配列と組み合わせたfor文」**について詳しく見ていきましょう。
**「オブジェクトと組み合わせたfor文」**は以下のオブジェクトの項目に含めていますので、そちらを参照してください。

配列と組み合わせて使えるfor文は以下の種類があります。

```js
// for
let arr = [1, 2, 3];

for (let i = 0; i < arr.length; i++) {
  console.log(arr[i]);
}
// 1 2 3

// for ... of
for (let v of arr) {
  console.log(v);
}
// 1 2 3
```

for文やそのほか、`for ... of`について簡単に復習すると、以下の内容になります。


- **for文** - 条件式（例：`i < arr.length;`など）が`false`になるまでループする。決められた回数だけ処理を繰り返す場合に最適。

- **for ... of** - 配列に含まれる要素を変数として取り出し、その数だけ繰り返し処理をする。繰り返す回数やカウンタ変数を指定しなくても良い。


レッスン7では`for ... in`も習いましたが、配列との組み合わせには例を参照していません。
なぜでしょうか？

これは配列ループに`for ... in`を使用することによるリスクを回避するためです。
JavaScriptの仕様で予想される反映とは違った予期せぬ反映を返すため、配列と`for ... in`は配列ループに使用しない方が良いとされています。

そもそもの`for ... in`の役割自体も、オブジェクトの中身を取得し、その個数分だけ繰り返し処理することを意図しているので、配列ではfor文、もしくは`for ... of`を使用するのが良いとされています。

## 配列とfor-of文

配列との組み合わせだけに限らず、**_for ... of文_**はES6で新たに取り入れられました。
配列に含まれる要素を変数として取り出し、その数だけ繰り返し処理を行うということをレッスン７では学びました。

`for ... of`では、配列、文字列、マップ、DOMの繰り返し処理に使われていて、ES6から導入された新しい構文です。

構文はレッスン7で習った通り、`for ... in`と非常によく似ていますが、オブジェクトには利用出来ないことに注意しましょう。
`for ... of`を使うことによって、配列の値が1つずつ変数へ代入されていくので、それぞれの配列の値に対して処理を実行できます。
具体的なfor文との違いは、上記にも描いていますが、繰り返す回数やカウンタ変数を指定しなくても良いところです。

ただし、比較的新しい構文のため、古いブラウザでは対応していないこともあります。
**_for ... of文_**と配列を組み合わせて使うメリットは、やはり構文がfor文と比べて簡潔に済むところでしょう。

上記の配列とfor文の項目にある配列の反復例をもう一度比較してみましょう。

```js
// for
let arr = [1, 2, 3];

for (let i = 0; i < arr.length; i++) { // ループを繰り返す回数やカウンタ変数の指定が必要
  console.log(arr[i]);
}
// 1 2 3

// for ... of
for (v of arr) {// ループを繰り返す回数やカウンタ変数指定は不要
  console.log(v);
}// 1 2 3
```

書くコードも少なく、構造もシンプルです。
どちらも使えた方が良いですが、開発環境によって（古いブラウザの考慮をする必要があるかないかなど）使い分けができると良いですね。

**_for ... of文_**はそのほかでいうとDOMの取得でも組み合わせることができ、非常に便利です。

# 配列の分割代入

分割代入を配列でするには以下の例のように、それぞれの変数に一つずつ配列要素を代入していきます。

```javascript
const arr = [1, 2, 3];
const [a, b, c] = arr;
console.log(a); // 1
console.log(b); // 2
console.log(c); // 3
```

カンマと空欄を用いることで、必要のない要素を`undefined`にし、必要な配列要素だけを呼び出すことができます。

```javascript
const arr = [1, 2, 3];
const [ , , a] = arr;

console.log(a); // 3, undefined
```